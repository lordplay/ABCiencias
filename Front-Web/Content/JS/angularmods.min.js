(function(){function t(t,i,r){function u(u,c){var l=c.dirPaginate,a=l.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),v=/\|\s*itemsPerPage\s*:\s*(.*\(\s*\w*\)|([^\)]*?(?=\s+as\s+))|[^\)]*)/,y,p,w;if(a[2].match(v)===null)throw"pagination directive: the 'itemsPerPage' filter must be set.";return y=a[2].replace(v,""),p=i(y),o(u),w=c.paginationId||n,r.registerInstance(w),function(u,o,c){var a=i(c.paginationId)(u)||c.paginationId||n,v,y,w;r.registerInstance(a);v=f(l,a);e(o,c,v);s(o);y=t(o);w=h(u,c,a);r.setCurrentPageParser(a,w,u);typeof c.totalItems!="undefined"?(r.setAsyncModeTrue(a),u.$watch(function(){return i(c.totalItems)(u)},function(n){0<=n&&r.setCollectionLength(a,n)})):(r.setAsyncModeFalse(a),u.$watchCollection(function(){return p(u)},function(n){if(n){var t=n instanceof Array?n.length:Object.keys(n).length;r.setCollectionLength(a,t)}}));y(u)}}function f(t,i){var r=!!t.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);return i===n||r?t:t.replace(/(\|\s*itemsPerPage\s*:\s*[^|\s]*)/,"$1 : '"+i+"'")}function e(n,t,i){n[0].hasAttribute("dir-paginate-start")||n[0].hasAttribute("data-dir-paginate-start")?(t.$set("ngRepeatStart",i),n.eq(n.length-1).attr("ng-repeat-end",!0)):t.$set("ngRepeat",i)}function o(n){angular.forEach(n,function(n){n.nodeType===1&&angular.element(n).attr("dir-paginate-no-compile",!0)})}function s(n){angular.forEach(n,function(n){n.nodeType===1&&angular.element(n).removeAttr("dir-paginate-no-compile")});n.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate");n.eq(n.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end")}function h(n,t,r){var u,f;return t.currentPage?u=i(t.currentPage):(f=(r+"__currentPage").replace(/\W/g,"_"),n[f]=1,u=i(f)),u}return{terminal:!0,multiElement:!0,priority:100,compile:u}}function i(){return{priority:5e3,terminal:!0}}function r(n){n.put("angularUtils.directives.dirPagination.template",'<ul class="pagination" ng-if="1 < pages.length || !autoHide"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;<\/a><\/li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;<\/a><\/li><li ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' || ( ! autoHide && pages.length === 1 ) }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}<\/a><\/li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;<\/a><\/li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;<\/a><\/li><\/ul>')}function u(t,i){function o(i,r,u){function c(n){if(t.isRegistered(o)&&v(n)){var r=i.pagination.current;if(i.pages=f(n,t.getCollectionLength(o),t.getItemsPerPage(o),s),i.pagination.current=n,a(),i.onPageChange)i.onPageChange({newPageNumber:n,oldPageNumber:r})}}function l(){if(t.isRegistered(o)){var n=parseInt(t.getCurrentPage(o))||1;i.pages=f(n,t.getCollectionLength(o),t.getItemsPerPage(o),s);i.pagination.current=n;i.pagination.last=i.pages[i.pages.length-1];i.pagination.last<i.pagination.current?i.setCurrent(i.pagination.last):a()}}function a(){if(t.isRegistered(o)){var n=t.getCurrentPage(o),r=t.getItemsPerPage(o),u=t.getCollectionLength(o);i.range.lower=(n-1)*r+1;i.range.upper=Math.min(n*r,u);i.range.total=u}}function v(n){return e.test(n)&&0<n&&n<=i.pagination.last}var y=u.paginationId||n,o=i.paginationId||u.paginationId||n,h,s;t.isRegistered(o)||t.isRegistered(y)||(h=o!==n?" (id: "+o+") ":" ",window.console&&console.warn("Pagination directive: the pagination controls"+h+"cannot be used without the corresponding pagination directive, which was not found at link time."));i.maxSize||(i.maxSize=9);i.autoHide=i.autoHide===undefined?!0:i.autoHide;i.directionLinks=angular.isDefined(u.directionLinks)?i.$parent.$eval(u.directionLinks):!0;i.boundaryLinks=angular.isDefined(u.boundaryLinks)?i.$parent.$eval(u.boundaryLinks):!1;s=Math.max(i.maxSize,5);i.pages=[];i.pagination={last:1,current:1};i.range={lower:1,upper:1,total:1};i.$watch("maxSize",function(n){n&&(s=Math.max(i.maxSize,5),l())});i.$watch(function(){if(t.isRegistered(o))return(t.getCollectionLength(o)+1)*t.getItemsPerPage(o)},function(n){0<n&&l()});i.$watch(function(){if(t.isRegistered(o))return t.getItemsPerPage(o)},function(n,t){n!=t&&typeof t!="undefined"&&c(i.pagination.current)});i.$watch(function(){if(t.isRegistered(o))return t.getCurrentPage(o)},function(n,t){n!=t&&c(n)});i.setCurrent=function(n){t.isRegistered(o)&&v(n)&&(n=parseInt(n,10),t.setCurrentPage(o,n))};i.tracker=function(n,t){return n+"_"+t}}function f(n,t,i,r){var o=[],e=Math.ceil(t/i),h=Math.ceil(r/2),f,c,u;for(f=n<=h?"start":e-h<n?"end":"middle",c=r<e,u=1;u<=e&&u<=r;){var l=s(u,n,r,e),a=u===2&&(f==="middle"||f==="end"),v=u===r-1&&(f==="middle"||f==="start");c&&(a||v)?o.push("..."):o.push(l);u++}return o}function s(n,t,i,r){var u=Math.ceil(i/2);return n===i?r:n===1?n:i<r?r-u<t?r-i+n:u<t?t-u+n:n:n}var e=/^\d+$/,r={restrict:"AE",scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?",autoHide:"=?"},link:o},u=i.getString();return u!==undefined?r.template=u:r.templateUrl=function(n,t){return t.templateUrl||i.getPath()},r}function f(t){return function(i,r,u){var o,f,s;if(typeof u=="undefined"&&(u=n),!t.isRegistered(u))throw"pagination directive: the itemsPerPage id argument (id: "+u+") does not match a registered pagination-id.";return angular.isObject(i)?(r=parseInt(r)||9999999999,f=t.isAsyncMode(u)?0:(t.getCurrentPage(u)-1)*r,o=f+r,t.setItemsPerPage(u,r),i instanceof Array?i.slice(f,o):(s={},angular.forEach(e(i).slice(f,o),function(n){s[n]=i[n]}),s)):i}}function e(n){var t,i;if(Object.keys)return Object.keys(n);t=[];for(i in n)n.hasOwnProperty(i)&&t.push(i);return t}function o(){var n={},t;this.registerInstance=function(i){typeof n[i]=="undefined"&&(n[i]={asyncMode:!1},t=i)};this.deregisterInstance=function(t){delete n[t]};this.isRegistered=function(t){return typeof n[t]!="undefined"};this.getLastInstanceId=function(){return t};this.setCurrentPageParser=function(t,i,r){n[t].currentPageParser=i;n[t].context=r};this.setCurrentPage=function(t,i){n[t].currentPageParser.assign(n[t].context,i)};this.getCurrentPage=function(t){var i=n[t].currentPageParser;return i?i(n[t].context):1};this.setItemsPerPage=function(t,i){n[t].itemsPerPage=i};this.getItemsPerPage=function(t){return n[t].itemsPerPage};this.setCollectionLength=function(t,i){n[t].collectionLength=i};this.getCollectionLength=function(t){return n[t].collectionLength};this.setAsyncModeTrue=function(t){n[t].asyncMode=!0};this.setAsyncModeFalse=function(t){n[t].asyncMode=!1};this.isAsyncMode=function(t){return n[t].asyncMode}}function s(){var n="angularUtils.directives.dirPagination.template",t;this.setPath=function(t){n=t};this.setString=function(n){t=n};this.$get=function(){return{getPath:function(){return n},getString:function(){return t}}}}var n="__default";angular.module("angularUtils.directives.dirPagination",[]).directive("dirPaginate",["$compile","$parse","paginationService",t]).directive("dirPaginateNoCompile",i).directive("dirPaginationControls",["paginationService","paginationTemplate",u]).filter("itemsPerPage",["paginationService",f]).service("paginationService",o).provider("paginationTemplate",s).run(["$templateCache",r])})(),function(n){angular.module("ngCsv.config",[]).value("ngCsv.config",{debug:!0}).config(["$compileProvider",function(n){angular.isDefined(n.urlSanitizationWhitelist)?n.urlSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|data):/):n.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|data):/)}]);angular.module("ngCsv.directives",["ngCsv.services"]);angular.module("ngCsv.services",[]);angular.module("ngCsv",["ngCsv.config","ngCsv.services","ngCsv.directives","ngSanitize"]);typeof module!="undefined"&&typeof exports!="undefined"&&module.exports===exports&&(module.exports="ngCsv");angular.module("ngCsv.services").service("CSV",["$q",function(n){var t="\r\n",r="ï»¿",i={"\\t":"\t","\\b":"\b","\\v":'\v',"\\f":"\f","\\r":"\r"};this.stringifyField=function(n,t){return t.decimalSep==="locale"&&this.isFloat(n)?n.toLocaleString():t.decimalSep!=="."&&this.isFloat(n)?n.toString().replace(".",t.decimalSep):typeof n=="string"?(n=n.replace(/"/g,'""'),(t.quoteStrings||n.indexOf(",")>-1||n.indexOf("\n")>-1||n.indexOf("\r")>-1)&&(n=t.txtDelim+n+t.txtDelim),n):typeof n=="boolean"?n?"TRUE":"FALSE":n};this.isFloat=function(n){return+n===n&&(!isFinite(n)||Boolean(n%1))};this.stringify=function(i,u){var e=n.defer(),o=this,s="",f="",h=n.when(i).then(function(n){var h,l,i,c,a;angular.isDefined(u.header)&&u.header&&(h=[],angular.forEach(u.header,function(n){this.push(o.stringifyField(n,u))},h),l=h.join(u.fieldSep?u.fieldSep:","),f+=l+t);i=[];angular.isArray(n)?i=n:angular.isFunction(n)&&(i=n());angular.isDefined(u.label)&&u.label&&typeof u.label=="boolean"&&(c=[],angular.forEach(i[0],function(n,t){this.push(o.stringifyField(t,u))},c),a=c.join(u.fieldSep?u.fieldSep:","),f+=a+t);angular.forEach(i,function(n,r){var h=angular.copy(i[r]),e,s,c;s=[];c=!u.columnOrder?h:u.columnOrder;angular.forEach(c,function(n){var t=!u.columnOrder?n:h[n];this.push(o.stringifyField(t,u))},s);e=s.join(u.fieldSep?u.fieldSep:",");f+=r<i.length?e+t:e});u.addByteOrderMarker&&(s+=r);s+=f;e.resolve(s)});return typeof h["catch"]=="function"&&h["catch"](function(n){e.reject(n)}),e.promise};this.isSpecialChar=function(n){return i[n]!==undefined};this.getSpecialChar=function(n){return i[n]}}]);angular.module("ngCsv.directives").directive("ngCsv",["$parse","$q","CSV","$document","$timeout",function(t,i,r,u,f){return{restrict:"AC",scope:{data:"&ngCsv",filename:"@filename",header:"&csvHeader",columnOrder:"&csvColumnOrder",txtDelim:"@textDelimiter",decimalSep:"@decimalSeparator",quoteStrings:"@quoteStrings",fieldSep:"@fieldSeparator",lazyLoad:"@lazyLoad",addByteOrderMarker:"@addBom",ngClick:"&",charset:"@charset",label:"&csvLabel"},controller:["$scope","$element","$attrs","$transclude",function(n,t,u){function f(){var t={txtDelim:n.txtDelim?n.txtDelim:'"',decimalSep:n.decimalSep?n.decimalSep:".",quoteStrings:n.quoteStrings,addByteOrderMarker:n.addByteOrderMarker};return angular.isDefined(u.csvHeader)&&(t.header=n.$eval(n.header)),angular.isDefined(u.csvColumnOrder)&&(t.columnOrder=n.$eval(n.columnOrder)),angular.isDefined(u.csvLabel)&&(t.label=n.$eval(n.label)),t.fieldSep=n.fieldSep?n.fieldSep:",",t.fieldSep=r.isSpecialChar(t.fieldSep)?r.getSpecialChar(t.fieldSep):t.fieldSep,t}n.csv="";angular.isDefined(n.lazyLoad)&&n.lazyLoad=="true"||angular.isArray(n.data)&&n.$watch("data",function(){n.buildCSV()},!0);n.getFilename=function(){return n.filename||"download.csv"};n.buildCSV=function(){var e=i.defer();return t.addClass(u.ngCsvLoadingClass||"ng-csv-loading"),r.stringify(n.data(),f()).then(function(i){n.csv=i;t.removeClass(u.ngCsvLoadingClass||"ng-csv-loading");e.resolve(i)}),n.$apply(),e.promise}}],link:function(t,i){function r(){var o=t.charset||"utf-8",e=new Blob([t.csv],{type:"text/csv;charset="+o+";"}),r,i;n.navigator.msSaveOrOpenBlob?navigator.msSaveBlob(e,t.getFilename()):(r=angular.element('<div data-tap-disabled="true"><a><\/a><\/div>'),i=angular.element(r.children()[0]),i.attr("href",n.URL.createObjectURL(e)),i.attr("download",t.getFilename()),i.attr("target","_blank"),u.find("body").append(r),f(function(){i[0].click();i.remove()},null))}i.bind("click",function(){t.buildCSV().then(function(){r()});t.$apply()})}}}])}(window,document);